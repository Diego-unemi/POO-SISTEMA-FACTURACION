<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Validación de Correo Electrónico</title>
<link rel="stylesheet" href="styles.css">
</head>
<style>
    body {
        font-family: Arial, sans-serif;
      }
      
      .container {
        max-width: 400px;
        margin: 50px auto;
        padding: 20px;
        border: 1px solid #ccc;
        border-radius: 5px;
      }
      
      input[type="email"],
      input[type="text"] {
        width: 100%;
        padding: 10px;
        margin-bottom: 10px;
        border: 1px solid #ccc;
        border-radius: 5px;
      }
      
      button {
        background-color: #007bff;
        color: #fff;
        border: none;
        border-radius: 5px;
        padding: 10px 20px;
        cursor: pointer;
      }
      
      button:hover {
        background-color: #0056b3;
      }
      
</style>
<body>
  <div class="container">
    <h2>Validación de Correo Electrónico</h2>
    <label for="emailInput">Correo Electrónico:</label>
    <input type="email" id="emailInput" placeholder="Correo electrónico">
    <button id="enviarCorreoBtn">Enviar correo con código</button>
    

    <div id="codigoVerification" style="display:none;">
      <label for="codigo">Código de Verificación:</label>
      <input type="text" id="codigo" placeholder="Ingrese el código de 8 dígitos">
      <button id="validarCodigo">Validar Código</button>
    </div>

 

    <div id="mensaje"></div>
  </div>

<script >


document.addEventListener('DOMContentLoaded', function() {
    const emailInput = document.getElementById('emailInput');
    const enviarCodigoBtn = document.getElementById('enviarCorreoBtn');
    const codigoVerificationDiv = document.getElementById('codigoVerification');
    const codigoInput = document.getElementById('codigo');
    const validarCodigoBtn = document.getElementById('validarCodigo');
    const mensajeDiv = document.getElementById('mensaje');
  
    let codigoGenerado = null;
    let correoDestinatario = null;
  
    enviarCodigoBtn.addEventListener('click', function() {
      const email = emailInput.value.trim();
      if (email !== '' && validarCorreo(email)) {
        correoDestinatario = email;
        codigoGenerado = generarCodigo();
        enviarCorreo(email, codigoGenerado);
        codigoVerificationDiv.style.display = 'block';
      } else {
        mensajeDiv.textContent = 'Ingrese un correo electrónico válido.';
      }
    });
  
    validarCodigoBtn.addEventListener('click', function() {
      const codigoIngresado = codigoInput.value.trim();
      if (codigoIngresado === codigoGenerado) {
        mensajeDiv.textContent = '¡Código válido! El correo existe.';
      } else {
        mensajeDiv.textContent = 'El código ingresado no es válido o el correo no coincide.';
      }
    });
  
    function validarCorreo(correo) {
      const regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      return regex.test(correo);
    }
  
    function generarCodigo() {
      let codigo = '';
      const caracteres = '0123456789';
      for (let i = 0; i < 8; i++) {
        const indice = Math.floor(Math.random() * caracteres.length);
        codigo += caracteres.charAt(indice);
      }
      localStorage.setItem('codigoGenerado', codigo);
      return codigo;
    }
  
    function enviarCorreo(destinatario, codigo) {
      // Aquí puedes implementar tu lógica para enviar el correo con el código
      alert(`Se envió el correo a ${destinatario} con el código ${codigo}`);
    }
});

</script>
</body>
</html>
